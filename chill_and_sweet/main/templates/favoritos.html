{% extends "layout/layout-logged.html" %}

{% load static %}

{% block title %}Favoritos - Chill & Sweet{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link rel="stylesheet" href="{% static 'css/index.css' %}">
{% endblock %}

{% block content %}
<style>
  /* Contenedor principal */
  .favoritos-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
  }

  .favoritos-title {
      font-size: 2rem;
      font-weight: bold;
      text-align: center;
      margin-bottom: 30px;
  }

  /* Diseño flexible para las cards */
  .postres-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: space-between;
  }

  /* Card */
  .postre-card {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      width: calc(50% - 10px); /* Dos cards por fila */
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      padding: 10px;
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .postre-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  }

  /* Imagen */
  .postre-image {
      flex-shrink: 0;
      width: 120px;
      height: 120px;
      border-radius: 12px;
      object-fit: cover;
      margin-right: 15px;
  }

  /* Contenido del postre */
  .postre-content {
      flex-grow: 1;
  }

  .postre-title {
      font-size: 1.2rem;
      font-weight: bold;
      margin: 0;
      color: #333;
  }

  .postre-calories {
      font-size: 0.9rem;
      color: #888;
      margin-top: 5px;
  }

  .postre-description {
      margin: 10px 0;
      font-size: 0.95rem;
      color: #555;
      line-height: 1.4;
      max-height: 3.5em; /* Limita el texto a 2 líneas */
      overflow: hidden;
  }

  .postre-price {
      font-size: 1.1rem;
      font-weight: bold;
      color: #333;
  }

  /* Botones */
  .postre-actions {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
  }

  .favorite-button {
      border: none;
      background: transparent;
      color: #ff9bb3;
      font-size: 1.5rem;
      cursor: pointer;
      transition: transform 0.2s;
  }

  .favorite-button:hover {
      transform: scale(1.2);
  }

  @media (max-width: 768px) {
  .postre-card {
      width: 100%; /* Una columna para móviles */
  }
}

</style>

<!-- Título de Favoritos -->
<div class="favoritos-container">
  <h1 class="favoritos-title">FAVORITOS</h1>

  <!-- Grid de cards -->
  <div class="postres-grid">
    {% for favorito in favoritos %}
    <!-- Card -->
    <div class="postre-card">
      <img src="{{ favorito.postre.imagen.url }}" alt="{{ favorito.postre.nombre }}" class="postre-image">
      <div class="postre-content">
        <h3 class="postre-title">{{ favorito.postre.nombre }}</h3>
        <span class="postre-calories">{{ favorito.postre.calorias }} cal</span>
        <p class="postre-description">{{ favorito.postre.descripcion|truncatewords:18 }}</p>
        <div class="postre-actions">
          <span class="postre-price">$ {{ favorito.postre.precio }}</span>
          <button class="favorite-button" onclick="removeFromFavorites({{ favorito.postre.id }}, event)">♡</button>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
